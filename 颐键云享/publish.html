<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <title>发帖 - 颐键云享</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    .publish-container {
      max-width: 480px;
      margin: 0 auto;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 24px rgba(52,46,173,0.06);
      padding: 18px 18px 24px 18px;
      font-family: 'PingFang SC', 'Microsoft YaHei', Arial, sans-serif;
      color: #222;
      margin-top: 18px;
      position: relative;
    }
    .publish-title {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 12px;
      text-align: center;
    }
    .publish-label {
      font-size: 15px;
      color: #888;
      margin-bottom: 4px;
      display: block;
    }
    .publish-input, .publish-textarea {
      width: 100%;
      border: 1px solid #eee;
      border-radius: 8px;
      padding: 10px;
      font-size: 15px;
      margin-bottom: 16px;
      box-sizing: border-box;
      background: #fafbfc;
      resize: none;
    }
    .publish-textarea {
      min-height: 80px;
      max-height: 200px;
    }
    .publish-upload {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    .publish-upload input[type="file"] {
      display: none;
    }
    .publish-upload-label {
      width: 64px;
      height: 64px;
      border: 1.5px dashed #bbb;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 36px;
      color: #bbb;
      background: #f7f7f7;
      cursor: pointer;
      margin-right: 12px;
    }
    .publish-btn {
      width: 100%;
      background: #1abc9c;
      color: #fff;
      font-size: 18px;
      border: none;
      border-radius: 8px;
      padding: 12px 0;
      margin-top: 18px;
      cursor: pointer;
      font-family: inherit;
      transition: background 0.2s;
    }
    .publish-btn:hover {
      background: #16a085;
    }
    .publish-contact {
      margin-bottom: 10px;
    }
    .back-btn {
      position: absolute;
      left: 18px;
      top: 18px;
      background: none;
      border: none;
      color: #342ead;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      z-index: 10;
      padding: 0 8px;
    }
    .back-btn:active {
      color: #1abc9c;
    }
    /* 彩色卡片式下拉菜单样式 */
    .dropdown {
      margin: 0 auto 16px auto;
      width: 100%;
      position: relative;
      perspective: 800px;
      box-sizing: border-box;
    }
    .dropdown .selLabel {
      box-shadow: 0 1px 1px rgba(0,0,0,0.1);
      width: 100%;
      height: 48px;
      line-height: 48px;
      color: #fff;
      font-size: 18px;
      background: #34495e;
      display: block;
      padding: 0 40px 0 16px;
      position: relative;
      z-index: 9999;
      cursor: pointer;
      border-radius: 8px;
      user-select: none;
      letter-spacing: 2px;
      font-weight: bold;
      box-sizing: border-box;
      border: none;
    }
    .dropdown .selLabel:after {
      content: '\25BC';
      position: absolute;
      right: 0;
      top: 0;
      width: 48px;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: #fff;
      border-left: 1px solid #ddd;
      border-radius: 0 8px 8px 0;
      background: transparent;
      pointer-events: none;
    }
    .dropdown.active .selLabel:after {
      content: '\25B2';
    }
    .dropdown-list {
      position: absolute;
      top: 48px;
      left: 0;
      width: 100%;
      z-index: 1000;
      border-radius: 0 0 8px 8px;
      box-shadow: 0 4px 16px rgba(52,46,173,0.08);
      overflow: hidden;
      display: none;
    }
    .dropdown.active .dropdown-list {
      display: block;
    }
    .dropdown-list li {
      display: block;
      width: 100%;
      height: 48px;
      line-height: 48px;
      font-size: 18px;
      font-weight: bold;
      letter-spacing: 2px;
      color: #fff;
      cursor: pointer;
      transition: background 0.2s;
      padding: 0 30px;
    }
    .dropdown-list li:nth-child(1) { background-color: #1abc9c; }
    .dropdown-list li:nth-child(2) { background-color: #3498db; }
    .dropdown-list li:nth-child(3) { background-color: #9b59b6; }
    .dropdown-list li:nth-child(4) { background-color: #e67e22; }
    .dropdown-list li:nth-child(5) { background-color: #f39c12; }
    .dropdown-list li:nth-child(6) { background-color: #16a085; }
    .dropdown-list li:nth-child(7) { background-color: #2980b9; }
    .dropdown-list li:nth-child(8) { background-color: #8e44ad; }
    .dropdown-list li:nth-child(9) { background-color: #e74c3c; }
    .dropdown-list li:nth-child(10) { background-color: #2ecc71; }
    .dropdown-list li:hover {
      background: #222 !important;
      color: #fff;
    }
    /* 悬赏金额高亮样式 */
    .reward-highlight {
      display: flex;
      align-items: center;
      background: #fffbe6;
      border: 2px solid #ffd54f;
      border-radius: 8px;
      padding: 8px 12px;
      margin-bottom: 16px;
      box-shadow: 0 2px 8px rgba(255, 193, 7, 0.08);
    }
    .reward-icon {
      color: #ff9800;
      font-size: 22px;
      font-weight: bold;
      margin-right: 8px;
    }
    .reward-input {
      border: none;
      background: transparent;
      font-size: 18px;
      color: #f2056f;
      font-weight: bold;
      outline: none;
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="publish-container">
    <button class="back-btn" onclick="window.history.back()">← 返回</button>
    <div class="publish-title">发帖</div>
    <label class="publish-label" for="publish-title">标题（4~20字，精准描述你的需求）</label>
    <input class="publish-input" id="publish-title" maxlength="20" minlength="4" placeholder="请输入标题" required>

    <label class="publish-label" for="publish-detail">详细描述你的需求</label>
    <textarea class="publish-textarea" id="publish-detail" maxlength="200" placeholder="请详细描述你的需求，禁止发布重复信息、违法违规、广告营销类、含二维码等内容" required></textarea>

    <div class="publish-upload">
      <label class="publish-upload-label" for="publish-image">+</label>
      <input type="file" id="publish-image" accept="image/*">
    </div>

    <!-- 分类选择美化版 -->
    <div class="publish-category">
      <label class="publish-label">请选择分类</label>
      <div class="dropdown" id="custom-category">
        <span class="selLabel">请选择</span>
        <input type="hidden" name="cd-dropdown" id="publish-category-select">
        <ul class="dropdown-list">
          <li data-value="日常生活"><span>日常生活</span></li>
          <li data-value="助餐服务"><span>助餐服务</span></li>
          <li data-value="助医服务"><span>助医服务</span></li>
          <li data-value="代购跑腿"><span>代购跑腿</span></li>
          <li data-value="上门维修"><span>上门维修</span></li>
          <li data-value="陪伴聊天"><span>陪伴聊天</span></li>
          <li data-value="买药送药"><span>买药送药</span></li>
          <li data-value="家政清洁"><span>家政清洁</span></li>
          <li data-value="学习陪读"><span>学习陪读</span></li>
          <li data-value="其他"><span>其他</span></li>
        </ul>
      </div>
    </div>
    <div id="reward-container"></div>

    <div class="publish-contact">
      <label class="publish-label" for="publish-contact">联系方式（手机/微信/QQ）</label>
      <input class="publish-input" id="publish-contact" maxlength="30" placeholder="请输入联系方式" required>
    </div>

    <button class="publish-btn" onclick="alert('信息已提交，等待审核！')">发布信息</button>
  </div>
  <script>
    // 图片上传预览
    document.querySelector('.publish-upload-label').onclick = function() {
      document.getElementById('publish-image').click();
    };
    // 分类下拉菜单美化逻辑
    $(".selLabel").click(function () {
      $('.dropdown').toggleClass('active');
    });
    $(".dropdown-list li").click(function() {
      var val = $(this).attr('data-value');
      $('.selLabel').text($(this).text());
      $('.dropdown').removeClass('active');
      $('#publish-category-select').val(val).trigger('change');
    });
    // 分类选择后动态显示悬赏金额
    $('#publish-category-select').on('change', function() {
      var val = $(this).val();
      var rewardContainer = $('#reward-container');
      if(val && val !== '日常生活') {
        rewardContainer.html(
          '<label class="publish-label" for="publish-reward">悬赏金额（元）</label>' +
          '<div class="reward-highlight"><span class="reward-icon">¥</span>' +
          '<input class="publish-input reward-input" id="publish-reward" type="number" min="1" max="9999" placeholder="请输入悬赏金额" required></div>'
        );
      } else {
        rewardContainer.html('');
      }
    });
    // 点击页面其他地方关闭下拉
    $(document).click(function(e) {
      if (!$(e.target).closest('.dropdown').length) {
        $('.dropdown').removeClass('active');
      }
    });
  </script>
</body>
</html> 